# 2. 建库建表

## 创建数据库

```
mix ecto.create
```

如果数据库创建成功，可以看到

```
The database for Friends.Repo has been created.
```

## 创建`migration`

使用数据库迁移来创建表

```
mix ecto.gen.migration create_people
```

该命令会在`priv/repo/migrations`文件夹生成一个`migration`文件，默认是这样的：

```
defmodule Friends.Repo.Migrations.CreatePeople do
  use Ecto.Migration

  def change do

  end
end
```

在`change`函数中添加以下内容：

```
defmodule Friends.Repo.Migrations.CreatePeople do
  use Ecto.Migration

  def change do
    create table(:people) do
      add :first_name, :string
      add :last_name, :string
      add :age, :integer
    end
  end
end
```

执行以下命令来创建`people`表：

```
mix ecto.migrate
```

如果迁移中出现错误，可以使用`mix ecto.rollback`来撤销迁移



