# 12. 推导

在Elixir中，列表推导是循环遍历枚举值的语法糖。

```
iex> for n <- [1, 2, 3, 4], do: n * n
[1, 4, 9, 16]
```

## 过滤器（filters）

过滤器可以想象成推导式的哨兵，如果被过滤的值返回时`false`或者`nil`，那它就不会出现在最终的列表里。

```
import Integer
iex> for x <- 1..10, is_even(x), do: x
[2, 4, 6, 8, 10]
```

也可以使用多个过滤器

```
import Integer
iex> for x <- 1..100,
...>   is_even(x),
...>   rem(x, 3) == 0, do: x
[6, 12, 18, 24, 30, 36, 42, 48, 54, 60, 66, 72, 78, 84, 90, 96]
```

过滤器还可以结合哨兵子句一起使用

```
for value when is_binary(value) <- ["abc", 123, "def", 456], String.contains?(value, "e") do
  value
end

#=> ["def"]
```

## 使用`:into`

`:into`接受实现了`Collectable`协议的任何结构体。

让我们用 `:into` 从关键字列表中推导出一个映射：

```
iex> for {k, v} <- [one: 1, two: 2, three: 3], into: %{}, do: {k, v}
%{one: 1, three: 3, two: 2}

```
